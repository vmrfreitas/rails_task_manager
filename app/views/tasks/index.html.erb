<%= link_to("Back to Homepage", {controller: "main", action: "index"}) %><br />

<!--
<h1>Task list</h1>
<% if @page == 1 %>
    <p>Find me in app/views/tasks/index.html.erb</p>
<% end %>

<ul>
<% @tasks.each do |task| %>
    <li><%= task%></li>
<% end %>
</ul>

<%= link_to("First task", task_path(1)) %>
-->

<div class="tasks index">
    <h2>Tasks</h2>

    <%= link_to("Add New Task", new_task_path, class: 'action new') %>

    <table class="listing" summary="Task list" style="width:100%;">
        <tr class="header">
            <th>#</th>
            <th>Task</th>
            <th>Completed</th>
            <th>Category</th>
            <th>Actions</th>
        </tr>
        <% @tasks.each do |task| %>
        <tr>
            <td><%= task.position %></td>
            <td><%= task.name %></td>
            <td><%= task.completed? ? 'Yes' : 'No' %></td>
            <td><%= task.category&.name || '-' %></td>
            <td class="actions"> 
                <%= link_to("Show", task_path(task)) %>
                <%= link_to("Edit", edit_task_path(task), class: 'action edit') %>
                <%= link_to("Delete", '#', class: 'action delete') %>
            </td>
        </tr>
        <% end %>
    </table>
</div>